<h1>制御機器管理 - 編集</h1>

<%= flash[:success] %>

<h2>制御機器情報</h2>

<% if @control_device.errors.any? %>
  <div class = "alert">
    <ul>
      <% @control_device.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
    </ul>
  </div>
<% end %>

<%= form_with(model: @control_device, local: true) do |f| %>
    <%= f.label :control_device_id, '制御機器ID（必須）' %>
    <%= f.text_field :control_device_id, value: @control_device.control_device_id, readonly: true %>
    <%= f.label :name, '名称（必須）' %>
    <%= f.text_field :name, value: @control_device.name%>
    <%= f.label :physical_code, '制御機器物理コード（必須）' %>
    <%= f.text_field :physical_code, value: @control_device.physical_code, readonly: true%>
    <%= f.label :is_gateway, 'ゲートウェイフラグ（必須）' %>
    <%= f.check_box :is_gateway, value: @control_device.is_gateway%>
    <%= f.label :schema_id, 'スキーマID（必須）' %>
    <%= f.text_field :schema_id, value: @control_device.schema_id, readonly: true%>
    <%= f.label :memo, 'メモ' %>
    <%= f.text_field :memo, value: @control_device.memo%>
    <%= f.submit '更新' , data: { confirm: '本当に更新してよろしいですか？'}%>
<% end %>

<%=link_to(control_devices_path) do %>
    <button>一覧に戻る</button>
<%end%>

<%= button_to  '削除', @control_device, method: :delete, data: { confirm: '本当に削除してよろしいですか？'}%>

